(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["detail"],{1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),a=n("6821"),o=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=a(t),e=o(e,!0),s)try{return u(t,e)}catch(n){}if(c(t,e))return r(!i.f.call(t,e),t[e])}},"1d3b":function(t,e,n){"use strict";var i=n("dc622"),r=n.n(i);r.a},"37c8":function(t,e,n){e.f=n("2b4c")},"3a72":function(t,e,n){var i=n("7726"),r=n("8378"),a=n("2d00"),o=n("37c8"),c=n("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:o.f(t)})}},"3c14":function(t,e,n){},"67ab":function(t,e,n){var i=n("ca5a")("meta"),r=n("d3f4"),a=n("69a8"),o=n("86cc").f,c=0,s=Object.isExtensible||function(){return!0},u=!n("79e5")((function(){return s(Object.preventExtensions({}))})),l=function(t){o(t,i,{value:{i:"O"+ ++c,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!s(t))return"F";if(!e)return"E";l(t)}return t[i].i},d=function(t,e){if(!a(t,i)){if(!s(t))return!0;if(!e)return!1;l(t)}return t[i].w},h=function(t){return u&&v.NEED&&s(t)&&!a(t,i)&&l(t),t},v=t.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},"7bbc":function(t,e,n){var i=n("6821"),r=n("9093").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?c(t):r(i(t))}},"8a81":function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("9e1e"),o=n("5ca1"),c=n("2aba"),s=n("67ab").KEY,u=n("79e5"),l=n("5537"),f=n("7f20"),d=n("ca5a"),h=n("2b4c"),v=n("37c8"),p=n("3a72"),g=n("d4c0"),b=n("1169"),m=n("cb7c"),y=n("d3f4"),S=n("4bf8"),w=n("6821"),L=n("6a99"),C=n("4630"),O=n("2aeb"),k=n("7bbc"),P=n("11e9"),N=n("2621"),_=n("86cc"),E=n("0d58"),j=P.f,x=_.f,D=k.f,F=i.Symbol,T=i.JSON,A=T&&T.stringify,I="prototype",M=h("_hidden"),G=h("toPrimitive"),R={}.propertyIsEnumerable,J=l("symbol-registry"),K=l("symbols"),V=l("op-symbols"),H=Object[I],$="function"==typeof F&&!!N.f,B=i.QObject,W=!B||!B[I]||!B[I].findChild,Y=a&&u((function(){return 7!=O(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=j(H,e);i&&delete H[e],x(t,e,n),i&&t!==H&&x(H,e,i)}:x,q=function(t){var e=K[t]=O(F[I]);return e._k=t,e},z=$&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},Q=function(t,e,n){return t===H&&Q(V,e,n),m(t),e=L(e,!0),m(n),r(K,e)?(n.enumerable?(r(t,M)&&t[M][e]&&(t[M][e]=!1),n=O(n,{enumerable:C(0,!1)})):(r(t,M)||x(t,M,C(1,{})),t[M][e]=!0),Y(t,e,n)):x(t,e,n)},U=function(t,e){m(t);var n,i=g(e=w(e)),r=0,a=i.length;while(a>r)Q(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?O(t):U(O(t),e)},Z=function(t){var e=R.call(this,t=L(t,!0));return!(this===H&&r(K,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(K,t)||r(this,M)&&this[M][t])||e)},tt=function(t,e){if(t=w(t),e=L(e,!0),t!==H||!r(K,e)||r(V,e)){var n=j(t,e);return!n||!r(K,e)||r(t,M)&&t[M][e]||(n.enumerable=!0),n}},et=function(t){var e,n=D(w(t)),i=[],a=0;while(n.length>a)r(K,e=n[a++])||e==M||e==s||i.push(e);return i},nt=function(t){var e,n=t===H,i=D(n?V:w(t)),a=[],o=0;while(i.length>o)!r(K,e=i[o++])||n&&!r(H,e)||a.push(K[e]);return a};$||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(V,n),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),Y(this,t,C(1,n))};return a&&W&&Y(H,t,{configurable:!0,set:e}),q(t)},c(F[I],"toString",(function(){return this._k})),P.f=tt,_.f=Q,n("9093").f=k.f=et,n("52a7").f=Z,N.f=nt,a&&!n("2d00")&&c(H,"propertyIsEnumerable",Z,!0),v.f=function(t){return q(h(t))}),o(o.G+o.W+o.F*!$,{Symbol:F});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)h(it[rt++]);for(var at=E(h.store),ot=0;at.length>ot;)p(at[ot++]);o(o.S+o.F*!$,"Symbol",{for:function(t){return r(J,t+="")?J[t]:J[t]=F(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in J)if(J[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!$,"Object",{create:X,defineProperty:Q,defineProperties:U,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var ct=u((function(){N.f(1)}));o(o.S+o.F*ct,"Object",{getOwnPropertySymbols:function(t){return N.f(S(t))}}),T&&o(o.S+o.F*(!$||u((function(){var t=F();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!z(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,A.apply(T,i)}}),F[I][G]||n("32e9")(F[I],G,F[I].valueOf),f(F,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},ac4d:function(t,e,n){n("3a72")("asyncIterator")},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),a=n("2aba"),o=n("7726"),c=n("32e9"),s=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(h),p=0;p<v.length;p++){var g,b=v[p],m=h[b],y=o[b],S=y&&y.prototype;if(S&&(S[l]||c(S,l,d),S[f]||c(S,f,b),s[b]=d,m))for(g in i)S[g]||a(S,g,i[g],!0)}},c84b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isRefreshing,callback:function(e){t.isRefreshing=e},expression:"isRefreshing"}},[n("div",{staticClass:"cover-image"},[n("img",{attrs:{src:[t.product.image?""+t.publicPath+t.product.image:t.publicPath+"product-rice@1.png"]}}),n("router-link",{staticClass:"shopcar",attrs:{tag:"div",to:"/shopcar"}},[n("span",{staticClass:"iconfont icon"},[t._v("")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count>0"}],staticClass:"all-count"},[t._v(t._s(t.count))])])],1),n("div",{staticClass:"add"},[n("div",{staticClass:"add-product"},[n("div",{staticClass:"count"},[n("span",{staticClass:"title"},[t._v("数量")]),n("span",{staticClass:"num"},[t._v(t._s(t.value))]),n("span",{staticClass:"iconfont",on:{click:t.changePicker}},[t._v("")]),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[n("van-picker",{attrs:{title:t.title,"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1)],1),n("div",{staticClass:"add-shopcar",class:[t.isNotEmpty?"":"disabled"],on:{click:t.addGoods}},[n("span",{staticClass:"add-title"},[t._v("加入购物车")]),n("span",{staticClass:"iconfont icon-car"},[t._v("")])])])]),n("div",{staticClass:"goods-info"},[t.isNotEmpty?n("p",{staticClass:"in-stock"},[t._v("有货")]):n("p",{staticClass:"in-stock"},[t._v("无货")]),n("p",{staticClass:"name"},[t._v(t._s(t.product.title))]),n("p",{staticClass:"price"},[t._v("￥ "+t._s(t.product.price))])]),n("van-tabs",{staticClass:"goods-detail",attrs:{animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"商品详情"}},[n("div",{staticClass:"content"},[t._v("商品详情")])]),n("van-tab",{attrs:{title:"产品参数"}},[n("div",{staticClass:"content"},[t._v("产品参数")])]),n("van-tab",{attrs:{title:"售后保障"}},[n("div",{staticClass:"content"},[t._v("七天无理由退货")])])],1)],1),n("Loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]})],1)},r=[],a=n("3a5e"),o=n("d225"),c=n("b0b4"),s=n("308d"),u=n("6bb5"),l=n("4e2b"),f=n("a75b"),d=function(t){function e(){return Object(o["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).call(this))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"getDetailById",value:function(t){return this.getAxios({url:"/product/detail/".concat(t)})}}]),e}(f["a"]),h=d,v=n("d823"),p=new h,g=new v["a"],b={name:"detail",data:function(){return{publicPath:"/shop/",product:{},columns:[1,2,3,4,5,6,7,8,9,10],showPicker:!1,value:1,count:0,active:1,title:"请选择数量",isLoading:!0,isRefreshing:!1}},components:{Loading:a["a"]},computed:{isNotEmpty:function(){return this.product.amount>0}},methods:{getDetail:function(t){var e=this;p.getDetailById(t).then((function(t){e.isLoading=!1,e.product=t.data,e.isRefreshing=!1}))},onConfirm:function(t){this.value=t,this.showPicker=!1},changePicker:function(){this.showPicker=!0},addGoods:function(){var t={id:this.product.id,price:this.product.price,image:this.product.image,name:this.product.title};this.isNotEmpty?(this.count+=this.value,g.addCount(t,this.value)):this.$toast("该商品暂时无货")},getAllCount:function(){this.count=g.getCount()},onRefresh:function(){this.getDetail(this.$route.params.id),this.getAllCount()}},created:function(){this.getDetail(this.$route.params.id),this.getAllCount()}},m=b,y=(n("dee2"),n("1d3b"),n("2877")),S=Object(y["a"])(m,i,r,!1,null,"955bf96c",null);e["default"]=S.exports},d4c0:function(t,e,n){var i=n("0d58"),r=n("2621"),a=n("52a7");t.exports=function(t){var e=i(t),n=r.f;if(n){var o,c=n(t),s=a.f,u=0;while(c.length>u)s.call(t,o=c[u++])&&e.push(o)}return e}},d823:function(t,e,n){"use strict";n("ac4d"),n("8a81"),n("ac6a");var i=n("d225"),r=n("b0b4"),a=function(){function t(){Object(i["a"])(this,t),this.storageKey="shopcar"}return Object(r["a"])(t,[{key:"addCount",value:function(t,e){var n=this.getDataFromLocal(),i=this.getIndex(t.id,n);-1===i?(t.counts=e,t.selected=!0,n.push(t)):(n[i].selected=!0,n[i].counts+=e),localStorage.setItem(this.storageKey,JSON.stringify(n))}},{key:"getCount",value:function(t){var e=0,n=this.getDataFromLocal();return n.forEach((function(n){t?n.selected&&(e+=n.counts):e+=n.counts})),e}},{key:"removeGoods",value:function(t){var e=this.getDataFromLocal(),n=e.filter((function(e){return e.id!==t}));localStorage.setItem(this.storageKey,JSON.stringify(n))}},{key:"changeGoodsSelected",value:function(t){var e=this.getDataFromLocal(),n=this.getIndex(t,e);e[n].selected=!e[n].selected,this.setLocalStorage(e)}},{key:"toggleAllSeleted",value:function(t){var e=this.getDataFromLocal(),n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;c.selected=!t}}catch(s){i=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}this.setLocalStorage(e)}},{key:"getDataFromLocal",value:function(t){var e=localStorage.getItem(this.storageKey);if(!e)return[];var n=JSON.parse(e);return t?n.filter((function(t){return!0===t.selected})):n}},{key:"setLocalStorage",value:function(t){localStorage.setItem(this.storageKey,JSON.stringify(t))}},{key:"getIndex",value:function(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t)return n;return-1}},{key:"calcProductAccount",value:function(t){var e=0,n=100;return t.forEach((function(t){e+=t.price*n*t.counts})),e/n}},{key:"calcProductCount",value:function(t){var e=0;return t.forEach((function(t){e+=t.counts})),e}},{key:"removeOrderProduct",value:function(){var t=this.getDataFromLocal(),e=t.filter((function(t){return!1===t.selected}));this.setLocalStorage(e)}}]),t}();e["a"]=a},dc622:function(t,e,n){},dee2:function(t,e,n){"use strict";var i=n("3c14"),r=n.n(i);r.a}}]);
//# sourceMappingURL=detail.1e1e2d15.js.map