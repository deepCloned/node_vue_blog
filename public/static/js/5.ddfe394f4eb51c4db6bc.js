webpackJsonp([5],{bHXA:function(e,t){},vdVF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),c=a("6PdC"),o=a("zL8q"),i=a("mtWM"),r=a.n(i),l=a("NYxO"),u={name:"Login",data:function(){return{account:"",password:"",cancelBlock:!1}},computed:s()({},Object(l.c)(["isLogin","username","token"])),methods:s()({},Object(l.b)(["changeToken","changeUsername","changeLoginState"]),{clearAccountValue:function(){this.account=""},clearPasswordValue:function(){this.password=""},getLogin:function(){var e=this,t=c.c.getType(this.account),a=r.a.CancelToken.source();r()({url:"production"===Object({NODE_ENV:"production"})?"v1/token":"http://localhost:3000/v1/token",method:"POST",data:{account:this.account,password:this.password,type:t}},{cancelToken:a.token}).then(function(t){Object(o.Message)({message:"登录成功",type:"success"});var a=t.data.token,n=t.data.username;localStorage.setItem("username",n),localStorage.setItem("token",a),e.changeToken(a),e.changeUsername(n),e.changeLoginState(!0),e.$router.push({name:"Home"})}),a.cancel()}})},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"login"},[a("header",[e._v("欢迎登录")]),e._v(" "),a("ul",{staticClass:"input-box"},[a("li",{staticClass:"item username"},[a("span",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"用户名/邮箱"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}}),e._v(" "),a("span",{staticClass:"iconfont cancel",on:{click:e.clearAccountValue}},[e._v("\n      \n      ")])]),e._v(" "),a("li",{staticClass:"item password"},[a("span",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("span",{staticClass:"iconfont cancel",on:{click:e.clearPasswordValue}},[e._v("")])])]),e._v(" "),a("div",{staticClass:"submit",on:{click:e.getLogin}},[e._v("登录")])])},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(e){a("bHXA")},"data-v-7c34b666",null);t.default=p.exports}});
//# sourceMappingURL=5.ddfe394f4eb51c4db6bc.js.map